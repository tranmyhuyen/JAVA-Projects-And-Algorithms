## ğŸ¯ PHáº¦N 1: Tá»”NG QUAN Cáº¤U TRÃšC Dá»° ÃN

```
LibraryManagementSystem/
â”‚
â”œâ”€â”€ model/                 // Chá»©a cÃ¡c class liÃªn quan Ä‘áº¿n dá»¯ liá»‡u: User, Book...
â”‚   â”œâ”€â”€ User.java
â”‚   â”œâ”€â”€ Admin.java
â”‚   â”œâ”€â”€ Librarian.java
â”‚   â”œâ”€â”€ Reader.java
â”‚   â”œâ”€â”€ Book.java
â”‚   â”œâ”€â”€ PrintedBook.java
â”‚   â””â”€â”€ Ebook.java
â”‚
â”œâ”€â”€ service/               // Xá»­ lÃ½ nghiá»‡p vá»¥: Ä‘Äƒng nháº­p, mÆ°á»£n sÃ¡ch, tráº£ sÃ¡ch
â”‚   â”œâ”€â”€ AuthService.java
â”‚   â”œâ”€â”€ UserService.java
â”‚   â”œâ”€â”€ BookService.java
â”‚   â””â”€â”€ TransactionService.java
â”‚
â”œâ”€â”€ util/                  // Xá»­ lÃ½ file Ä‘á»c ghi, tiá»‡n Ã­ch
â”‚   â””â”€â”€ FileManager.java
â”‚
â”œâ”€â”€ data/                  // Chá»©a file dá»¯ liá»‡u lÆ°u dÆ°á»›i dáº¡ng text
â”‚   â”œâ”€â”€ books.txt
â”‚   â”œâ”€â”€ users.txt
â”‚   â””â”€â”€ transactions.txt
â”‚
â”œâ”€â”€ LibrarySystem.java     // HÃ m main â€“ cháº¡y chÆ°Æ¡ng trÃ¬nh chÃ­nh
â”œâ”€â”€ README.md
â””â”€â”€ report.pdf             // BÃ¡o cÃ¡o ná»™p
```

---

## ğŸ§  PHáº¦N 2: THIáº¾T Káº¾ CLASS THEO OOP

### âœ… `User` (abstract)
```java
public abstract class User {
    protected String username;
    protected String password;
    protected String role;

    public User(String username, String password, String role) {
        this.username = username;
        this.password = password;
        this.role = role;
    }

    public String getUsername() { return username; }
    public String getRole() { return role; }

    public abstract void showMenu();
}
```

### âœ… `Admin`, `Librarian`, `Reader` káº¿ thá»«a `User`

```java
public class Admin extends User {
    public Admin(String username, String password) {
        super(username, password, "Admin");
    }

    @Override
    public void showMenu() {
        System.out.println("1. Add User\n2. Remove User\n3. List Users\n4. Logout");
    }
}
```

LÃ m tÆ°Æ¡ng tá»± vá»›i `Librarian`, `Reader`, Ä‘á»•i menu vÃ  chá»©c nÄƒng theo vai trÃ².

---

### âœ… `Book` (abstract)
```java
public abstract class Book {
    protected String title, author, genre, ISBN;
    protected boolean isAvailable;
    protected String dueDate;

    public Book(...) { ... }

    public abstract String toFileString(); // Ä‘á»ƒ lÆ°u xuá»‘ng file
}
```

### âœ… `PrintedBook`, `Ebook`
```java
public class PrintedBook extends Book {
    private int numPages;

    public PrintedBook(...) {
        super(...);
        this.numPages = numPages;
    }

    @Override
    public String toFileString() {
        return "Printed," + title + "," + author + "," + genre + "," + ISBN + "," + isAvailable + "," + dueDate + "," + numPages;
    }
}
```

```java
public class Ebook extends Book {
    private String format;

    @Override
    public String toFileString() {
        return "Ebook," + title + "," + author + "," + genre + "," + ISBN + "," + isAvailable + "," + dueDate + "," + format;
    }
}
```

---

## ğŸ”§ PHáº¦N 3: CHá»¨C NÄ‚NG NGHIá»†P Vá»¤ (SERVICE)

### ğŸ“Œ AuthService â€“ xá»­ lÃ½ Ä‘Äƒng nháº­p
```java
public class AuthService {
    private List<User> users;

    public AuthService() {
        users = FileManager.loadUsers("data/users.txt");
    }

    public User login(String username, String password) {
        for (User user : users) {
            if (user.getUsername().equals(username) && user.password.equals(password)) {
                switch (user.getRole()) {
                    case "Admin": return new Admin(...);
                    case "Librarian": return new Librarian(...);
                    case "Reader": return new Reader(...);
                }
            }
        }
        return null;
    }
}
```

---

### ğŸ“š BookService â€“ xá»­ lÃ½ sÃ¡ch

```java
public class BookService {
    private List<Book> books;

    public BookService() {
        books = FileManager.loadBooks("data/books.txt");
    }

    public void addBook(Book book) {
        books.add(book);
        FileManager.saveBooks(books, "data/books.txt");
    }

    public void listBooks() {
        for (Book book : books) {
            System.out.println(book.toFileString());
        }
    }

    public void removeBook(String isbn) { ... }
}
```

---

### ğŸ‘¤ UserService â€“ admin dÃ¹ng
```java
public class UserService {
    private List<User> users;

    public UserService() {
        users = FileManager.loadUsers("data/users.txt");
    }

    public void addUser(String username, String password, String role) {
        users.add(new User(...));
        FileManager.saveUsers(users, "data/users.txt");
    }

    public void removeUser(String username) { ... }
    public void listUsers() { ... }
}
```

---

### ğŸ”„ TransactionService â€“ xá»­ lÃ½ mÆ°á»£n/tráº£
```java
public class TransactionService {
    private BookService bookService;

    public TransactionService(BookService bs) {
        this.bookService = bs;
    }

    public void borrowBook(String isbn, String username) {
        // check if PrintedBook and available
        // mark isAvailable = false
        // write to transactions.txt
    }

    public void returnBook(String isbn, String username) {
        // find book, mark isAvailable = true
        // log return
    }
}
```

---

## ğŸ’¾ PHáº¦N 4: LÆ¯U & Äá»ŒC FILE (FileManager)

### CSV-like format Ä‘á»ƒ Ä‘á»c ghi:
```java
public class FileManager {
    public static List<User> loadUsers(String path) { ... }
    public static List<Book> loadBooks(String path) { ... }
    public static void saveUsers(List<User> users, String path) { ... }
    public static void saveBooks(List<Book> books, String path) { ... }
    public static void logTransaction(...) { ... }
}
```

DÃ¹ng `BufferedReader`, `BufferedWriter`, `String.split(",")` Ä‘á»ƒ xá»­ lÃ½ dá»¯ liá»‡u.

---

## ğŸ–¥ PHáº¦N 5: GIAO DIá»†N CONSOLE (LibrarySystem.java)

```java
public class LibrarySystem {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        AuthService auth = new AuthService();

        System.out.print("Username: ");
        String u = sc.nextLine();
        System.out.print("Password: ");
        String p = sc.nextLine();

        User user = auth.login(u, p);
        if (user == null) {
            System.out.println("Login failed");
            return;
        }

        while (true) {
            user.showMenu();
            System.out.print("Choose: ");
            int choice = sc.nextInt();

            // xá»­ lÃ½ theo role
        }
    }
}
```

---

## ğŸ“‹ BÃO CÃO PDF â€“ Gá»¢I Ã Má»¤C Lá»¤C

1. **Introduction** â€“ Giá»›i thiá»‡u Ä‘á» tÃ i
2. **System Requirements** â€“ CÃ¡c chá»©c nÄƒng chÃ­nh
3. **Class Diagram** â€“ UML cho User, Book, Services
4. **Program Flow** â€“ SÆ¡ Ä‘á»“ hoáº¡t Ä‘á»™ng há»‡ thá»‘ng
5. **File Structures** â€“ MÃ´ táº£ books.txt, users.txt, v.v.
6. **Sample Use Case** â€“ áº¢nh chá»¥p cháº¡y chÆ°Æ¡ng trÃ¬nh
7. **Conclusion** â€“ Káº¿t luáº­n, hÆ°á»›ng phÃ¡t triá»ƒn thÃªm
8. **GitHub Link** â€“ Dáº«n link source code
